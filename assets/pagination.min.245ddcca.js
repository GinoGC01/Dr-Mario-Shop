import{k as O,l as D,m as F,c as T}from"./jsx-runtime.bc5095fd.js";function L(a=""){return`.${a.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function G({swiper:a,extendParams:P,on:u,emit:y}){const d="swiper-pagination";P({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:l=>l,formatFractionTotal:l=>l,bulletClass:`${d}-bullet`,bulletActiveClass:`${d}-bullet-active`,modifierClass:`${d}-`,currentClass:`${d}-current`,totalClass:`${d}-total`,hiddenClass:`${d}-hidden`,progressbarFillClass:`${d}-progressbar-fill`,progressbarOppositeClass:`${d}-progressbar-opposite`,clickableClass:`${d}-clickable`,lockClass:`${d}-lock`,horizontalClass:`${d}-horizontal`,verticalClass:`${d}-vertical`,paginationDisabledClass:`${d}-disabled`}}),a.pagination={el:null,bullets:[]};let b,p=0;const m=l=>(Array.isArray(l)||(l=[l].filter(t=>!!t)),l);function A(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function $(l,t){const{bulletActiveClass:e}=a.params.pagination;l&&(l=l[`${t==="prev"?"previous":"next"}ElementSibling`],l&&(l.classList.add(`${e}-${t}`),l=l[`${t==="prev"?"previous":"next"}ElementSibling`],l&&l.classList.add(`${e}-${t}-${t}`)))}function M(l){const t=l.target.closest(L(a.params.pagination.bulletClass));if(!t)return;l.preventDefault();const e=D(t)*a.params.slidesPerGroup;if(a.params.loop){if(a.realIndex===e)return;const n=a.getSlideIndexByData(e),i=a.getSlideIndexByData(a.realIndex);n>a.slides.length-a.loopedSlides&&a.loopFix({direction:n>i?"next":"prev",activeSlideIndex:n,slideTo:!1}),a.slideToLoop(e)}else a.slideTo(e)}function h(){const l=a.rtl,t=a.params.pagination;if(A())return;let e=a.pagination.el;e=m(e);let n,i;const C=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,S=a.params.loop?Math.ceil(C/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?(i=a.previousRealIndex||0,n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex):typeof a.snapIndex<"u"?(n=a.snapIndex,i=a.previousSnapIndex):(i=a.previousIndex||0,n=a.activeIndex||0),t.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const s=a.pagination.bullets;let g,r,x;if(t.dynamicBullets&&(b=O(s[0],a.isHorizontal()?"width":"height",!0),e.forEach(o=>{o.style[a.isHorizontal()?"width":"height"]=`${b*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&i!==void 0&&(p+=n-(i||0),p>t.dynamicMainBullets-1?p=t.dynamicMainBullets-1:p<0&&(p=0)),g=Math.max(n-p,0),r=g+(Math.min(s.length,t.dynamicMainBullets)-1),x=(r+g)/2),s.forEach(o=>{const c=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(f=>`${t.bulletActiveClass}${f}`)].map(f=>typeof f=="string"&&f.includes(" ")?f.split(" "):f).flat();o.classList.remove(...c)}),e.length>1)s.forEach(o=>{const c=D(o);c===n&&o.classList.add(...t.bulletActiveClass.split(" ")),t.dynamicBullets&&(c>=g&&c<=r&&o.classList.add(...`${t.bulletActiveClass}-main`.split(" ")),c===g&&$(o,"prev"),c===r&&$(o,"next"))});else{const o=s[n];if(o&&o.classList.add(...t.bulletActiveClass.split(" ")),t.dynamicBullets){const c=s[g],f=s[r];for(let v=g;v<=r;v+=1)s[v]&&s[v].classList.add(...`${t.bulletActiveClass}-main`.split(" "));$(c,"prev"),$(f,"next")}}if(t.dynamicBullets){const o=Math.min(s.length,t.dynamicMainBullets+4),c=(b*o-b)/2-x*b,f=l?"right":"left";s.forEach(v=>{v.style[a.isHorizontal()?f:"top"]=`${c}px`})}}e.forEach((s,g)=>{if(t.type==="fraction"&&(s.querySelectorAll(L(t.currentClass)).forEach(r=>{r.textContent=t.formatFractionCurrent(n+1)}),s.querySelectorAll(L(t.totalClass)).forEach(r=>{r.textContent=t.formatFractionTotal(S)})),t.type==="progressbar"){let r;t.progressbarOpposite?r=a.isHorizontal()?"vertical":"horizontal":r=a.isHorizontal()?"horizontal":"vertical";const x=(n+1)/S;let o=1,c=1;r==="horizontal"?o=x:c=x,s.querySelectorAll(L(t.progressbarFillClass)).forEach(f=>{f.style.transform=`translate3d(0,0,0) scaleX(${o}) scaleY(${c})`,f.style.transitionDuration=`${a.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(s.innerHTML=t.renderCustom(a,n+1,S),g===0&&y("paginationRender",s)):(g===0&&y("paginationRender",s),y("paginationUpdate",s)),a.params.watchOverflow&&a.enabled&&s.classList[a.isLocked?"add":"remove"](t.lockClass)})}function B(){const l=a.params.pagination;if(A())return;const t=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length;let e=a.pagination.el;e=m(e);let n="";if(l.type==="bullets"){let i=a.params.loop?Math.ceil(t/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&i>t&&(i=t);for(let C=0;C<i;C+=1)l.renderBullet?n+=l.renderBullet.call(a,C,l.bulletClass):n+=`<${l.bulletElement} class="${l.bulletClass}"></${l.bulletElement}>`}l.type==="fraction"&&(l.renderFraction?n=l.renderFraction.call(a,l.currentClass,l.totalClass):n=`<span class="${l.currentClass}"></span> / <span class="${l.totalClass}"></span>`),l.type==="progressbar"&&(l.renderProgressbar?n=l.renderProgressbar.call(a,l.progressbarFillClass):n=`<span class="${l.progressbarFillClass}"></span>`),a.pagination.bullets=[],e.forEach(i=>{l.type!=="custom"&&(i.innerHTML=n||""),l.type==="bullets"&&a.pagination.bullets.push(...i.querySelectorAll(L(l.bulletClass)))}),l.type!=="custom"&&y("paginationRender",e[0])}function I(){a.params.pagination=F(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const l=a.params.pagination;if(!l.el)return;let t;typeof l.el=="string"&&a.isElement&&(t=a.el.shadowRoot.querySelector(l.el)),!t&&typeof l.el=="string"&&(t=[...document.querySelectorAll(l.el)]),t||(t=l.el),!(!t||t.length===0)&&(a.params.uniqueNavElements&&typeof l.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...a.el.querySelectorAll(l.el)],t.length>1&&(t=t.filter(e=>T(e,".swiper")[0]===a.el)[0])),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(a.pagination,{el:t}),t=m(t),t.forEach(e=>{l.type==="bullets"&&l.clickable&&e.classList.add(l.clickableClass),e.classList.add(l.modifierClass+l.type),e.classList.add(a.isHorizontal()?l.horizontalClass:l.verticalClass),l.type==="bullets"&&l.dynamicBullets&&(e.classList.add(`${l.modifierClass}${l.type}-dynamic`),p=0,l.dynamicMainBullets<1&&(l.dynamicMainBullets=1)),l.type==="progressbar"&&l.progressbarOpposite&&e.classList.add(l.progressbarOppositeClass),l.clickable&&e.addEventListener("click",M),a.enabled||e.classList.add(l.lockClass)}))}function k(){const l=a.params.pagination;if(A())return;let t=a.pagination.el;t&&(t=m(t),t.forEach(e=>{e.classList.remove(l.hiddenClass),e.classList.remove(l.modifierClass+l.type),e.classList.remove(a.isHorizontal()?l.horizontalClass:l.verticalClass),l.clickable&&e.removeEventListener("click",M)})),a.pagination.bullets&&a.pagination.bullets.forEach(e=>e.classList.remove(...l.bulletActiveClass.split(" ")))}u("changeDirection",()=>{if(!a.pagination||!a.pagination.el)return;const l=a.params.pagination;let{el:t}=a.pagination;t=m(t),t.forEach(e=>{e.classList.remove(l.horizontalClass,l.verticalClass),e.classList.add(a.isHorizontal()?l.horizontalClass:l.verticalClass)})}),u("init",()=>{a.params.pagination.enabled===!1?z():(I(),B(),h())}),u("activeIndexChange",()=>{typeof a.snapIndex>"u"&&h()}),u("snapIndexChange",()=>{h()}),u("snapGridLengthChange",()=>{B(),h()}),u("destroy",()=>{k()}),u("enable disable",()=>{let{el:l}=a.pagination;l&&(l=m(l),l.forEach(t=>t.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),u("lock unlock",()=>{h()}),u("click",(l,t)=>{const e=t.target;let{el:n}=a.pagination;if(Array.isArray(n)||(n=[n].filter(i=>!!i)),a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!e.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&e===a.navigation.nextEl||a.navigation.prevEl&&e===a.navigation.prevEl))return;const i=n[0].classList.contains(a.params.pagination.hiddenClass);y(i===!0?"paginationShow":"paginationHide"),n.forEach(C=>C.classList.toggle(a.params.pagination.hiddenClass))}});const H=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:l}=a.pagination;l&&(l=m(l),l.forEach(t=>t.classList.remove(a.params.pagination.paginationDisabledClass))),I(),B(),h()},z=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:l}=a.pagination;l&&(l=m(l),l.forEach(t=>t.classList.add(a.params.pagination.paginationDisabledClass))),k()};Object.assign(a.pagination,{enable:H,disable:z,render:B,update:h,init:I,destroy:k})}export{G as P};
